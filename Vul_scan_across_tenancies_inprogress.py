# Pre-requisites for running this script:
# *python 3.6
# *oci-cli should be pre-installed and configured.
# *oci-sdk should be pre-installed. Hint: run 'pip install oci' or 'yum install oci'
import time
start_time = time.time()
import oci
import sys
import os
import json
import configparser
from Report import Report
from ReportNetwork import ReportNetwork
from Vulnerablity import Vulnerability


new_words =["orasenatdhubsblue02","orasenatdhubsred01"]





for t in new_words:
    data = dict()
    data['security'] = list()    
    data['iam_security'] = list()
    data["compute_security"] = list()
    r1 = Report(t)
    r2 = ReportNetwork(t)
    data['compute_security'].append(r2.compute)
    data['security'].append(r2.report)
    data['iam_security'].append(r1.report)
    with open(t+'security.json', 'w') as outfile:
        json.dump(data, outfile,ensure_ascii=False,indent=2,sort_keys=True)

print("--- %s seconds ---" % (time.time() - start_time))

